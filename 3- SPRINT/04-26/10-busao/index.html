<!DOCTYPE html>
<html lang="pt-br">

<head>
    <!-- METADATAS -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- CSS -->
    <link rel="stylesheet" href="../style.css">
    <!-- TITLE -->
    <title>Exercício 10</title>
</head>

<body>

    <div class="container">

        <h1>Vetores</h1>

        <div class="divInput">

            <p>Selecione a Função</p>

            <select onclick="trocarFuncao()" id="s_funcao">
                <option>Cadastrar</option>
                <option>Pesquisar</option>
            </select>

            <p id="label_cadastrar">Insira o nome da linha de Ônibus</p>
            <input type="text" placeholder="Ex.: 3787" id="inp_linha">

            <button id="btn_cadastrar" onclick="cadastrar()">Cadastrar Busão</button>


            <p id="label_pesquisa" style="display: none;">Pesquisar linha</p>
            <input type="text" placeholder="Ex.: 3787" id="inp_pesquisa" style="display: none;">

            <button id="btn_pesquisa" onclick="pesquisar()" style="display: none;">Pesquisar</button>

        </div>

        <div id="output"></div>

    </div>

</body>

</html>

<script>

    // VETOR - LISTA DE LINHAS

    var lista_linha = [];

    function cadastrar() {


        // INPUTS

        var linha = inp_linha.value;


        // LIMPAR DIV

        output.innerHTML = '';


        // VERIFICAÇÕES

        if (linha != '') {


            // ADICIONAR LINHA

            lista_linha.push(linha)

            for (var i = lista_linha.length - 1; i >= 0; i--) {

                output.innerHTML += `<p>Linha - ${lista_linha[i]}</p>`;

            }

        }

        else {

            output.innerHTML = `<p class="menor">Insira uma linha</p>`;

        }





    }


    function pesquisar() {


        // INPUTS

        var linha_pesquisa = inp_pesquisa.value;


        // VETOR - LISTA DE POSIÇÕES

        var lista_posicoes = [];


        // VARIAVEL PARA CONTAR QUANTAS VEZES PEGOU AQUELA LINHA DE ONIBUS

        var vezes = 0;


        // VERIFICAÇÕES

        for (var i = 0; i < lista_linha.length; i++) {

            if (linha_pesquisa == lista_linha[i]) {


                // ADICIONA O INDICE NA LISTA DE POSICOES

                lista_posicoes.push(i + 1);


                // INCREMENTA A VARIAVEL 'VEZES'

                vezes++;

                console.log(lista_posicoes);

            }

        }

        if (lista_posicoes != 0) {
            output.innerHTML += `<p>Você pegou essa linha ${vezes} vezes,  nessa ordem ${lista_posicoes}.</p>`;
        }

        else {
            output.innerHTML += `<p>Você nunca pegou essa linha.</p>`;
        }

    }


    function trocarFuncao() {


        // INPUTS

        funcao = s_funcao.value;


        // VERIFICAÇÕES


        if (funcao == 'Cadastrar') {

            label_cadastrar.style.display = "block";
            inp_linha.style.display = 'block';
            btn_cadastrar.style.display = 'block';

            label_pesquisa.style.display = "none";
            inp_pesquisa.style.display = 'none';
            btn_pesquisa.style.display = 'none';

        }

        else {

            label_cadastrar.style.display = "none";
            inp_linha.style.display = 'none';
            btn_cadastrar.style.display = 'none';

            label_pesquisa.style.display = "block";
            inp_pesquisa.style.display = 'block';
            btn_pesquisa.style.display = 'block';

        }
    }

</script>